[{"cyclomatic":1,"cyclomaticDensity":1.852,"halstead":{"bugs":0.47,"difficulty":14.123,"effort":19932.98,"length":222,"time":1107.388,"vocabulary":82,"volume":1411.377,"operands":{"distinct":65,"total":108,"identifiers":["packages","getPackages","packagesWithTs","filter","p","stdout","allWorkspacesString","execa","\"yarn\"","\"workspaces\"","\"list\"","\"--json\"","workspacesWithTs","Map","JSON","parse","split","\"\n\"","join","\",\"","[","]","location","map","name","forEach","packageDir","pkg","args","\"tsc\"","\"-b\"","process","argv","slice","2","console","log","chalk","inverse","\" Building TypeScript definition files \"","stdio","\"inherit\"","green","\" Successfully built TypeScript definition files \"","e","error","red","\" Unable to build TypeScript definition files \"","\" Validating TypeScript definition files \"","cpus","Math","max","1","os","length","typesReferenceDirective","\"/// <reference types\"","typesNodeReferenceDirective","=\"node\" />","mutex","pLimit","Promise","all","\" Unable to validate TypeScript definition files \"","\" Successfully validated TypeScript definition files \""]},"operators":{"distinct":17,"total":114,"identifiers":["const","=","()",".","function=>","{}",":","[]",",","new","``","${}","... (spread)","try","catch","throw","-"]}},"paramCount":0,"sloc":{"logical":54,"physical":187},"errors":[],"lineEnd":205,"lineStart":19,"name":"<anon method-1>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":33.333,"halstead":{"bugs":0.013,"difficulty":1,"effort":38.039,"length":12,"time":2.113,"vocabulary":9,"volume":38.039,"operands":{"distinct":7,"total":7,"identifiers":["fs","existsSync","path","resolve","p","packageDir","\"tsconfig.json\""]},"operators":{"distinct":2,"total":5,"identifiers":["()","."]}},"paramCount":1,"sloc":{"logical":3,"physical":2},"errors":[],"lineEnd":23,"lineStart":22,"name":"<anon method-2>","paramNames":["p"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":33.333,"halstead":{"bugs":0.007,"difficulty":2,"effort":39.303,"length":7,"time":2.183,"vocabulary":7,"volume":19.651,"operands":{"distinct":3,"total":3,"identifiers":["packagesWithTs","some","packageDir"]},"operators":{"distinct":4,"total":4,"identifiers":["()",".","function=>","{}"]}},"paramCount":1,"sloc":{"logical":3,"physical":2},"errors":[],"lineEnd":35,"lineStart":34,"name":"<anon method-3>","paramNames":["location"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.004,"difficulty":1,"effort":11.61,"length":5,"time":0.645,"vocabulary":5,"volume":11.61,"operands":{"distinct":3,"total":3,"identifiers":["packageDir","endsWith","location"]},"operators":{"distinct":2,"total":2,"identifiers":["()","."]}},"paramCount":1,"sloc":{"logical":2,"physical":1},"errors":[],"lineEnd":35,"lineStart":35,"name":"<anon method-4>","paramNames":["packageDir"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":1,"effort":8,"length":4,"time":0.444,"vocabulary":4,"volume":8,"operands":{"distinct":2,"total":2,"identifiers":["name","location"]},"operators":{"distinct":2,"total":2,"identifiers":["[]",","]}},"paramCount":2,"sloc":{"logical":1,"physical":1},"errors":[],"lineEnd":37,"lineStart":37,"name":"<anon method-5>","paramNames":["location","name"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":4,"cyclomaticDensity":16,"halstead":{"bugs":0.269,"difficulty":8.953,"effort":7213.685,"length":140,"time":400.76,"vocabulary":54,"volume":805.684,"operands":{"distinct":43,"total":70,"identifiers":["assert","ok","pkg","types","name","Package "," is missing `types` field","strictEqual","main","replace","/\\.js$/","\".d.ts\"","`main` and `types` field of "," does not match","jestDependenciesOfPackage","Object","keys","dependencies","concat","devDependencies","filter","dep","map","sort","length","0","tsConfig","JSON","parse","stripJsonComments","fs","readFileSync","packageDir","/tsconfig.json","\"utf8\"","references","path","deepStrictEqual","join","\"\n\"","Expected declared references to match dependencies in package ",". Got:\n\n","\nExpected:\n\n"]},"operators":{"distinct":11,"total":70,"identifiers":["()",".","``","${}","const","=","||","{}","function=>","if",">"]}},"paramCount":2,"sloc":{"logical":25,"physical":62},"errors":[],"lineEnd":101,"lineStart":40,"name":"<anon method-6>","paramNames":["packageDir","pkg"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.004,"difficulty":1,"effort":11.61,"length":5,"time":0.645,"vocabulary":5,"volume":11.61,"operands":{"distinct":3,"total":3,"identifiers":["workspacesWithTs","has","dep"]},"operators":{"distinct":2,"total":2,"identifiers":["()","."]}},"paramCount":1,"sloc":{"logical":2,"physical":1},"errors":[],"lineEnd":51,"lineStart":51,"name":"<anon method-7>","paramNames":["dep"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":8,"cyclomaticDensity":88.889,"halstead":{"bugs":0.054,"difficulty":4.167,"effort":681.244,"length":40,"time":37.847,"vocabulary":17,"volume":163.499,"operands":{"distinct":12,"total":20,"identifiers":["dep","\"jest-circus\"","\"jest-jasmine2\"","false","pkg","name","\"jest-config\"","\"@jest/test-sequencer\"","\"babel-jest\"","\"pretty-format\"","\"expect\"","true"]},"operators":{"distinct":5,"total":20,"identifiers":["if","||","===","return","."]}},"paramCount":1,"sloc":{"logical":9,"physical":22},"errors":[],"lineEnd":73,"lineStart":52,"name":"<anon method-8>","paramNames":["dep"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":33.333,"halstead":{"bugs":0.017,"difficulty":2.286,"effort":118.609,"length":15,"time":6.589,"vocabulary":11,"volume":51.891,"operands":{"distinct":7,"total":8,"identifiers":["path","relative","packageDir","workspacesWithTs","get","dep","/../../"]},"operators":{"distinct":4,"total":7,"identifiers":["()",".","``","${}"]}},"paramCount":1,"sloc":{"logical":3,"physical":5},"errors":[],"lineEnd":78,"lineStart":74,"name":"<anon method-9>","paramNames":["dep"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0,"difficulty":0,"effort":0,"length":1,"time":0,"vocabulary":1,"volume":0,"operands":{"distinct":1,"total":1,"identifiers":["path"]},"operators":{"distinct":0,"total":0,"identifiers":[]}},"paramCount":1,"sloc":{"logical":1,"physical":1},"errors":[],"lineEnd":89,"lineStart":89,"name":"<anon method-10>","paramNames":["path"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0,"difficulty":0,"effort":0,"length":1,"time":0,"vocabulary":1,"volume":0,"operands":{"distinct":1,"total":1,"identifiers":["packageDir"]},"operators":{"distinct":0,"total":0,"identifiers":[]}},"paramCount":1,"sloc":{"logical":1,"physical":1},"errors":[],"lineEnd":106,"lineStart":106,"name":"<anon method-11>","paramNames":["packageDir"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":33.333,"halstead":{"bugs":0.002,"difficulty":1,"effort":4.755,"length":3,"time":0.264,"vocabulary":3,"volume":4.755,"operands":{"distinct":1,"total":1,"identifiers":["mutex"]},"operators":{"distinct":2,"total":2,"identifiers":["()","function=>"]}},"paramCount":2,"sloc":{"logical":3,"physical":57},"errors":[],"lineEnd":191,"lineStart":135,"name":"<anon method-12>","paramNames":["packageDir","pkg"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":3,"cyclomaticDensity":9.677,"halstead":{"bugs":0.251,"difficulty":11.194,"effort":8422.377,"length":134,"time":467.91,"vocabulary":49,"volume":752.371,"operands":{"distinct":36,"total":62,"identifiers":["buildDir","path","resolve","packageDir","\"build/**/*.d.ts\"","globbed","globby","files","Promise","all","map","file","filesWithTypeReferences","filter","content","hit","filesWithReferences","name","references","join","\"\n\n\"","Error","filesWithNodeReference","filename","length","0","assert","ok","pkg","dependencies","Package `","` is missing `dependencies`","strictEqual","\"@types/node\"","\"*\"","` is missing a dependency on `@types/node`"]},"operators":{"distinct":13,"total":72,"identifiers":["const","=","()",".","[]","function=>",",","if","throw","new",">","``","${}"]}},"paramCount":0,"sloc":{"logical":31,"physical":56},"errors":[],"lineEnd":191,"lineStart":136,"name":"<anon method-13>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":33.333,"halstead":{"bugs":0.017,"difficulty":2.286,"effort":118.609,"length":15,"time":6.589,"vocabulary":11,"volume":51.891,"operands":{"distinct":7,"total":8,"identifiers":["Promise","all","file","fs","promises","readFile","\"utf8\""]},"operators":{"distinct":4,"total":7,"identifiers":["()",".","[]",","]}},"paramCount":1,"sloc":{"logical":3,"physical":2},"errors":[],"lineEnd":143,"lineStart":142,"name":"<anon method-14>","paramNames":["file"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.004,"difficulty":1,"effort":11.61,"length":5,"time":0.645,"vocabulary":5,"volume":11.61,"operands":{"distinct":3,"total":3,"identifiers":["content","includes","typesReferenceDirective"]},"operators":{"distinct":2,"total":2,"identifiers":["()","."]}},"paramCount":1,"sloc":{"logical":2,"physical":1},"errors":[],"lineEnd":148,"lineStart":148,"name":"<anon method-15>","paramNames":["content"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.004,"difficulty":1,"effort":11.61,"length":5,"time":0.645,"vocabulary":5,"volume":11.61,"operands":{"distinct":3,"total":3,"identifiers":["hit","length","0"]},"operators":{"distinct":2,"total":2,"identifiers":[">","."]}},"paramCount":1,"sloc":{"logical":1,"physical":1},"errors":[],"lineEnd":149,"lineStart":149,"name":"<anon method-16>","paramNames":["hit"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":11.111,"halstead":{"bugs":0.033,"difficulty":3.75,"effort":374.67,"length":27,"time":20.815,"vocabulary":13,"volume":99.912,"operands":{"distinct":8,"total":12,"identifiers":["name","content","split","\"\n\"","map","line","filter","join"]},"operators":{"distinct":5,"total":15,"identifiers":["[]",",","()",".","function=>"]}},"paramCount":2,"sloc":{"logical":9,"physical":9},"errors":[],"lineEnd":160,"lineStart":152,"name":"<anon method-17>","paramNames":["name","content"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.003,"difficulty":1,"effort":8,"length":4,"time":0.444,"vocabulary":4,"volume":8,"operands":{"distinct":2,"total":2,"identifiers":["line","trim"]},"operators":{"distinct":2,"total":2,"identifiers":["()","."]}},"paramCount":1,"sloc":{"logical":2,"physical":1},"errors":[],"lineEnd":156,"lineStart":156,"name":"<anon method-18>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.004,"difficulty":1,"effort":11.61,"length":5,"time":0.645,"vocabulary":5,"volume":11.61,"operands":{"distinct":3,"total":3,"identifiers":["line","includes","typesReferenceDirective"]},"operators":{"distinct":2,"total":2,"identifiers":["()","."]}},"paramCount":1,"sloc":{"logical":2,"physical":1},"errors":[],"lineEnd":157,"lineStart":157,"name":"<anon method-19>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.002,"difficulty":0.5,"effort":2.377,"length":3,"time":0.132,"vocabulary":3,"volume":4.755,"operands":{"distinct":2,"total":2,"identifiers":["line","typesNodeReferenceDirective"]},"operators":{"distinct":1,"total":1,"identifiers":["!=="]}},"paramCount":1,"sloc":{"logical":1,"physical":1},"errors":[],"lineEnd":158,"lineStart":158,"name":"<anon method-20>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.004,"difficulty":1,"effort":11.61,"length":5,"time":0.645,"vocabulary":5,"volume":11.61,"operands":{"distinct":3,"total":3,"identifiers":["content","length","0"]},"operators":{"distinct":2,"total":2,"identifiers":[">","."]}},"paramCount":1,"sloc":{"logical":1,"physical":1},"errors":[],"lineEnd":161,"lineStart":161,"name":"<anon method-21>","paramNames":["content"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.004,"difficulty":1,"effort":11.61,"length":5,"time":0.645,"vocabulary":5,"volume":11.61,"operands":{"distinct":3,"total":3,"identifiers":["hit","length","0"]},"operators":{"distinct":2,"total":2,"identifiers":[">","."]}},"paramCount":1,"sloc":{"logical":1,"physical":1},"errors":[],"lineEnd":162,"lineStart":162,"name":"<anon method-22>","paramNames":["hit"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":33.333,"halstead":{"bugs":0.017,"difficulty":2.286,"effort":118.609,"length":15,"time":6.589,"vocabulary":11,"volume":51.891,"operands":{"distinct":7,"total":8,"identifiers":["chalk","red","bold","file","references"," has the following non-node type references:\n\n","\n"]},"operators":{"distinct":4,"total":7,"identifiers":["()",".","``","${}"]}},"paramCount":2,"sloc":{"logical":3,"physical":6},"errors":[],"lineEnd":168,"lineStart":163,"name":"<anon method-23>","paramNames":["file","references"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0,"difficulty":0,"effort":0,"length":1,"time":0,"vocabulary":1,"volume":0,"operands":{"distinct":1,"total":1,"identifiers":["filename"]},"operators":{"distinct":0,"total":0,"identifiers":[]}},"paramCount":1,"sloc":{"logical":1,"physical":1},"errors":[],"lineEnd":177,"lineStart":177,"name":"<anon method-24>","paramNames":["filename"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.014,"difficulty":1.714,"effort":74.032,"length":13,"time":4.113,"vocabulary":10,"volume":43.185,"operands":{"distinct":7,"total":8,"identifiers":["console","error","\"Got error\"","stack","process","exitCode","1"]},"operators":{"distinct":3,"total":5,"identifiers":["()",".","="]}},"paramCount":1,"sloc":{"logical":2,"physical":4},"errors":[],"lineEnd":208,"lineStart":205,"name":"<anon method-25>","paramNames":["error"],"maxNestedMethodDepth":0,"nestedMethods":[]}]